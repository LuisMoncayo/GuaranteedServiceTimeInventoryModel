# Compute the Safety Stock Cost in Table 1

In the file **main.py**, the user selects which supply chain instances to analyse. In this example, all 38 instances are evaluated simultaneously.


```{python}
list_instances = ['01','02','03','04','05','06','07','08','09','10',
                  '11','12','13','14','15','16','17','18','19','20',
                  '21','22','23','24','25','26','27','28','29','30',
                  '31','32','33','34','35','36','37','38']
```

The service level $\alpha$ and the guaranteed service time $\Phi$ are obtained from the data in **"MSOM-06-038-R2 Data Set in Excel.xls"**. The user must specify the holding cost $I$, which is set to 20% per year by default.

In line 266 of **main.py**, the user defines the time limit $T$ after which the Gurobi B\&C algorithm stops if no better solution is found. In the example shown below, the time limit is set to 10 minutes (i.e., $60 \times 10$ seconds).


```{python}
# Terminate if objective has not improved in 20s
if time.time() - model._time > 60*10:
  model.terminate()
```
# Generate the Edge and Depth Tables and Figures

The data about the degree and edges showing in Table 1 and Figure 1 and 2 are computed the file **grpah_analysis.py**. The file models the supply chain as a digraph such as

```{python}
G = nx.from_pandas_edgelist(edges_data, create_using=nx.DiGraph() )
```
The edges_data is a pandas object with the $(i,j)\in E$.

The Tables are generated by 

```{python}
 print("Stage",",","Degree",",","In_Edges",",","Out_Edges",",","Depth")
    for i in G.nodes():
        print(i,",",G.degree(i),",",len(G.in_edges(i)),",",len(G.out_edges(i)),",",G.nodes[i]["depth"])
```
